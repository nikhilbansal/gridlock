<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
    <head>
        <title>Smart Traffic Device</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />

        <link href="static/css/reset.css" rel="stylesheet" type="text/css" />
        <link href="static/css/style.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <p style="text-align: center;" id="info-text"></p>
        <div id="map_canvas"></div>
        <div id="panel" class="hidden">
            <div>
                <h3>Smart Traffic Device</h3>
                <p>Project information available on <a href="" target="_blank">Github</a></p>
                <p id="surge_collected_id" style="display: block;">Surge Collected <span style="color: green;">Rs. 0/-</span></p>
            </div>
            <div class="section">
                <b>Time:</b> <span id="day_time"></span> 
                <select id="time_multiply">
                    <option value="1">1x</option>
                    <option value="5">5x</option>
                    <option value="10">10x</option>
                    <option value="100" selected="selected">100x</option>
                </select>
                <br/>
            </div>
            <div id="vehicle_info" class="hidden section" data-type="panel">
                <div>
                    <b>Vehicle:</b> <span class="vehicle_name"></span> <input type="button" class="panel_collapsible expanded" />
                </div>
                <div class="panel_content">
                    <div>
                        <input id="follow_trigger" type="button" value="Follow" data-value-toggle="STOP" />
                        <input id="route_show_trigger" type="button" value="Draw route" data-value-toggle="HIDE route" />
                    </div>

                    <div id="vehicle_timetable_container">
                        <table id="vehicle_timetable" class="panel_table">
                            <thead>
                                <tr>
                                    <td>#</td>
                                    <td class="station">Station</td>
                                    <td>Arr.</td>
                                    <td>Dep.</td>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div id="station_info" class="hidden section" data-type="panel">
                <div>
                    <b>Station:</b> <span class="station_name"></span> <input type="button" class="panel_collapsible expanded" />
                </div>
                <div class="panel_content">
                    <table id="station_departures" class="panel_table">
                        <thead>
                            <tr>
                                <td>#</td>
                                <td class="wide">Vehicle</td>
                                <td>To</td>
                                <td>Dep.</td>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div id="vehicle_popup_container" class="hidden">
            <div id="vehicle_popup">
                <span class="vehicle_name"></span>
                <br />
                <p class="status"></p>
            </div>
        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
        <script>
          var hack_type = findGetParameter('hack');

          function findGetParameter(parameterName) {
                var result = null,
                    tmp = [];
                var items = location.search.substr(1).split("&");
                for (var index = 0; index < items.length; index++) {
                    tmp = items[index].split("=");
                    if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);
                }
           return result;
           }

           if (hack_type === 'a') {
            $('#surge_collected_id').hide();
            $('#info-text').css('background', 'red');
            $('#info-text').css('color', 'white');
            $('#info-text').text('Before');
           }else if (hack_type === 'b') {
            $('#surge_collected_id').show();
            $('#info-text').css('background', 'green');
            $('#info-text').css('color', 'white');
            $('#info-text').text('After');
           }
        </script>
        <script src="http://maps.googleapis.com/maps/api/js?v=3.20&amp;sensor=false&amp;libraries=geometry,places&amp;key=AIzaSyAz4JdHd2U9TSXUYO3_TN8XvAgBsFZGWLg"></script>
        <script type="text/javascript" src="http://maps.stamen.com/js/tile.stamen.js?v1.2.1"></script>
        
        <script src="static/js/infobox_packed.js"></script>
        <script src="static/js/hack.js"></script>
        <script src="static/js/notify.js"></script>
    </body>
</html>
